import{m as F,a0 as r,a1 as O,z as $,a2 as x}from"./entry.Bn6fpZtb.js";import{u as C}from"./asyncData.sW88j4Uv.js";function q(n,c,i){const[t={},u]=typeof c=="string"?[{},c]:[c,i],e=F(()=>{let o=n;return typeof o=="function"&&(o=o()),r(o)}),s=t.key||O([u,typeof e.value=="string"?e.value:"",...E(t)]);if(!s||typeof s!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+s);if(!n)throw new Error("[nuxt] [useFetch] request is missing.");const f=s===u?"$f"+s:s;if(!t.baseURL&&typeof e.value=="string"&&e.value[0]==="/"&&e.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:y,lazy:m,default:b,transform:d,pick:g,watch:h,immediate:w,getCachedData:v,deep:_,...k}=t,p=$({...x,...k,cache:typeof t.cache=="boolean"?void 0:t.cache}),D={server:y,lazy:m,default:b,transform:d,pick:g,immediate:w,getCachedData:v,deep:_,watch:h===!1?[]:[p,e,...h||[]]};let a;return C(f,()=>{var l;(l=a==null?void 0:a.abort)==null||l.call(a),a=typeof AbortController<"u"?new AbortController:{};const o=r(t.timeout);return o&&setTimeout(()=>a.abort(),o),(t.$fetch||globalThis.$fetch)(e.value,{signal:a.signal,...p})},D)}function E(n){var i;const c=[((i=r(n.method))==null?void 0:i.toUpperCase())||"GET",r(n.baseURL)];for(const t of[n.params||n.query]){const u=r(t);if(!u)continue;const e={};for(const[s,f]of Object.entries(u))e[r(s)]=r(f);c.push(e)}return c}export{q as u};
